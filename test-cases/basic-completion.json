{
  "name": "Basic Completion Tests",
  "description": "Test basic completion functionality with memory registers and mnemonics",
  "setup": {
    "serverPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/6510lsp_server",
    "serverArgs": [],
    "rootPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/test-cases",
    "files": {
      "test.asm": "start:\n    lda #$02\n    sta $D0"
    }
  },
  "testCases": [
    {
      "name": "Memory Register Completion after $",
      "description": "Test that typing $ shows memory register completions",
      "type": "completion",
      "input": {
        "file": "test.asm",
        "line": 2,
        "character": 9
      },
      "expected": {
        "minItems": 10,
        "completionItems": [
          {
            "label": "$D000",
            "kind": 12,
            "detail": "VIC-II - Sprite 0 X Position"
          },
          {
            "label": "$D020",
            "kind": 12,
            "detail": "VIC-II - Border Color Register"
          }
        ]
      }
    },
    {
      "name": "Memory Register Completion with Prefix",
      "description": "Test that typing $D01 filters memory registers correctly",
      "type": "completion",
      "input": {
        "file": "test.asm",
        "line": 2,
        "character": 11
      },
      "expected": {
        "minItems": 5,
        "maxItems": 15,
        "completionItems": [
          {
            "label": "$D010",
            "kind": 12,
            "detail": "VIC-II"
          },
          {
            "label": "$D011",
            "kind": 12,
            "detail": "VIC-II"
          },
          {
            "label": "$D012",
            "kind": 12,
            "detail": "VIC-II"
          }
        ]
      }
    },
    {
      "name": "Mnemonic Completion at Line Start",
      "description": "Test mnemonic completion at beginning of line",
      "type": "completion",
      "input": {
        "file": "test.asm",
        "line": 1,
        "character": 5
      },
      "expected": {
        "minItems": 50,
        "completionItems": [
          {
            "label": "LDA",
            "kind": 3,
            "detail": "Load Accumulator"
          },
          {
            "label": "STA",
            "kind": 3,
            "detail": "Store Accumulator"
          }
        ]
      }
    }
  ]
}