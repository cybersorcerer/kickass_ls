{
  "name": "Symbol Table Regression Test",
  "description": "Ensure symbol resolution and scoping works correctly",
  "setup": {
    "serverPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/6510lsp_server",
    "serverArgs": [],
    "rootPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/test-cases",
    "files": {
      "symbols.asm": "@comprehensive-test.asm"
    }
  },
  "testCases": [
    {
      "name": "Global symbols accessible",
      "description": "Verify global labels can be referenced",
      "type": "completion",
      "input": {
        "file": "symbols.asm",
        "line": 172,
        "character": 8
      },
      "expected": {
        "containsItems": [{"label": "subroutine"}, {"label": "start"}],
        "minItems": 1
      }
    },
    {
      "name": "Macro definitions processed",
      "description": "Verify macros are recognized as symbols",
      "type": "documentSymbol",
      "input": {
        "file": "symbols.asm"
      },
      "expected": {
        "containsSymbols": ["SetBorderColor", "start", "main_loop", "subroutine"],
        "minSymbols": 10
      }
    },
    {
      "name": "Label definition lookup works",
      "description": "Verify go-to-definition for labels",
      "type": "definition",
      "input": {
        "file": "symbols.asm",
        "line": 172,
        "character": 8
      },
      "expected": {
        "definitionFound": true,
        "targetLine": 177
      }
    },
    {
      "name": "Macro usage detected",
      "description": "Verify macro calls are recognized",
      "type": "completion",
      "input": {
        "file": "symbols.asm",
        "line": 213,
        "character": 5
      },
      "expected": {
        "containsItems": [{"label": "SetBorderColor"}],
        "minItems": 1
      }
    }
  ]
}