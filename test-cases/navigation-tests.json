{
  "name": "Navigation Tests",
  "description": "Test go-to-definition, find references, and document symbols",
  "setup": {
    "serverPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/6510lsp_server",
    "serverArgs": [],
    "rootPath": "/Users/Ronald.Funk/My_Documents/source/gitlab/c64.nvim/test-cases",
    "files": {
      "navigation.asm": ".const BORDER_COLOR = $D020\n.const BACKGROUND = $D021\n\ninit:\n    lda #$0F\n    sta BORDER_COLOR\n    sta BACKGROUND\n    jsr setup_screen\n    rts\n\nsetup_screen:\n    lda #$00\n    sta BORDER_COLOR\n    jmp main_loop\n\nmain_loop:\n    inc BACKGROUND\n    jsr setup_screen\n    jmp main_loop\n\nend_program:\n    brk"
    }
  },
  "testCases": [
    {
      "name": "Go-to-Definition - Label Reference to Definition",
      "description": "Test go-to-definition from label usage to label definition",
      "type": "definition",
      "input": {
        "file": "navigation.asm",
        "line": 7,
        "character": 8
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 10,
            "character": 0
          }
        ]
      }
    },
    {
      "name": "Go-to-Definition - Constant Reference to Definition",
      "description": "Test go-to-definition from constant usage to constant definition",
      "type": "definition",
      "input": {
        "file": "navigation.asm",
        "line": 5,
        "character": 8
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 0,
            "character": 7
          }
        ]
      }
    },
    {
      "name": "Go-to-Definition - Second Constant",
      "description": "Test go-to-definition for second constant",
      "type": "definition",
      "input": {
        "file": "navigation.asm",
        "line": 6,
        "character": 8
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 1,
            "character": 7
          }
        ]
      }
    },
    {
      "name": "Find References - Label Usage",
      "description": "Test find references for label with multiple usages",
      "type": "references",
      "input": {
        "file": "navigation.asm",
        "line": 10,
        "character": 0
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 10,
            "character": 0
          },
          {
            "file": "navigation.asm",
            "line": 7,
            "character": 8
          },
          {
            "file": "navigation.asm",
            "line": 17,
            "character": 8
          }
        ]
      }
    },
    {
      "name": "Find References - Constant Usage",
      "description": "Test find references for constant with multiple usages",
      "type": "references",
      "input": {
        "file": "navigation.asm",
        "line": 0,
        "character": 7
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 0,
            "character": 7
          },
          {
            "file": "navigation.asm",
            "line": 5,
            "character": 8
          },
          {
            "file": "navigation.asm",
            "line": 12,
            "character": 8
          }
        ]
      }
    },
    {
      "name": "Find References - Loop Label",
      "description": "Test find references for main loop label",
      "type": "references",
      "input": {
        "file": "navigation.asm",
        "line": 15,
        "character": 0
      },
      "expected": {
        "locations": [
          {
            "file": "navigation.asm",
            "line": 15,
            "character": 0
          },
          {
            "file": "navigation.asm",
            "line": 13,
            "character": 8
          },
          {
            "file": "navigation.asm",
            "line": 18,
            "character": 8
          }
        ]
      }
    },
    {
      "name": "Document Symbols - All Symbols",
      "description": "Test document symbol listing shows all labels and constants",
      "type": "symbols",
      "input": {
        "file": "navigation.asm"
      },
      "expected": {
        "symbols": [
          {
            "name": "BORDER_COLOR",
            "kind": 14,
            "line": 0
          },
          {
            "name": "BACKGROUND",
            "kind": 14,
            "line": 1
          },
          {
            "name": "init",
            "kind": 13,
            "line": 3
          },
          {
            "name": "setup_screen",
            "kind": 13,
            "line": 10
          },
          {
            "name": "main_loop",
            "kind": 13,
            "line": 15
          },
          {
            "name": "end_program",
            "kind": 13,
            "line": 20
          }
        ]
      }
    },
    {
      "name": "No Definition for Memory Address",
      "description": "Test that memory addresses don't have go-to-definition",
      "type": "definition",
      "input": {
        "file": "navigation.asm",
        "line": 0,
        "character": 24
      },
      "expected": {
        "locations": []
      }
    }
  ]
}